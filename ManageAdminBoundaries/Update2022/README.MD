# Admin Boundaries Update of march 2022
Following the new admin units data from swisstopo and from BFS for 2022, the geocat team launched a new update of all admin units in geocat.  

### Geojson reference file source
* The shapefiles from BFS have been taken (generalization 1)
* `g1g22.shp` (municipalities), `g1g22_encl.shp` (enclaves DE & IT), `g1g22_li.shp` (municipalities from FL) and `g1s22.shp` (Lakes) 
have been merged together to create a single file for municipalities.
* `g1k22.shp` for cantons
* `g1l22.shp` for CH. Does not contain FL
* FL taken from swissBOUNDARIES3D data (no generalization). `swissBOUNDARIES3D_1_3_TLM_LANDESGEBIET.shp` with selection of FL.

### LV95 -> WGS84
Since the data from BFS and swisstopo are in LV95. The shapefile have been transformed with the georef app from swisstopo. The exit SRS must be in WGS84 in degrees.

### SHP -> Geojson
Used the [FME WorkBench](./shp2geojson.fmw) to transform the different shapefiles into a geojson ready for the tool.

### Results
**PROD**
> 2300 **municipalities** (before update) - 2209 (after update)  
> 2140 have same UUID and name : geometry and name (to be sure) will be updated  
> 6 have wrong name but correct UUID : geometry and name will be updated  
> 2 (Elgg & Wädenswil) have correct name but wrong UUID : erase them (not linked to MD). They will be correctly re-generated by the script  
> 39 new ones will be created  
> 153 old municipalities. 131 not linked to MD will be erased ! 22 linked to MD, will remain untouched.  
>   
> 26 **cantons**  
> 26 have same UUID but different names (translation from hut) : geometry only will be updated  
>   
> 4 **countries** - 2 after update  
> Italia and Deutschland are saved as countries but are enclaves (already stored as municipalities) -> erase them  
> CH : geometry only will be updated with BFS data  
> FL : geometry only will be updated with swisstopo data (not available in BFS

**INT**
> 2300 **municipalities** (before update) - 2209 (after update)  
> 2140 have same UUID and name : geometry and name (to be sure) will be updated  
> 6 have wrong name but correct UUID : geometry and name will be updated  
> 2 (Elgg & Wädenswil) have correct name but wrong UUID : erase them (not linked to MD). They will be correctly re-generated by the script  
> 39 new ones will be created  
> 152 old municipalities. 130 not linked to MD will be erased ! 22 linked to MD, will remain untouched.  
>   
> 26 **cantons**  
> 26 have same UUID but different names (translation from hut) : geometry only will be updated  
>   
> 4 **countries** - 2 after update  
> Italia and Deutschland are saved as countries but are enclaves (already stored as municipalities) -> erase them  
> CH : geometry only will be updated with BFS data  
> FL : geometry only will be updated with swisstopo data (not available in BFS


